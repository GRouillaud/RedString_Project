{% extends '_header_footer.html.twig' %}

{% block stylesheets %}<link rel="stylesheet" href="{{ asset('assets/css/admin/destination_manager.css') }}">{% endblock %}

{% block title %}Destination Manager{% endblock %}

{% block li %}
    <li><a href={{ path('solar-map') }}>Map</a></li>
    <li><a href={{ path('page_index') }} >Home</a></li>
    <li><a href={{ path('page_account') }}>Account</a></li>
{% endblock %}

{% block main %}


    <section class="title">
        <h1>Destination Manager</h1>
    </section>

    <section class="new">
        <a href="{{ path('admin_destination_new') }}">New Destination</a>
    </section>

    <section class="tab">
        <h3>Image</h3>
        <h3>Name</h3>
        <h3>Description</h3>
        <h3>Price</h3>
        <h3>Actions</h3>
    </section>

    {% for destination in destination %}

        <a href="{{ path('admin_destination_show', {'id' : destination.id}) }}" class="sel-destination">
            {% if destination.img %}
                {#
                je récupère le nom du fichier uploadé
                pour cet article que je concatène avec le dossier
                dans lequel il a été uploadé
                #}

                <img src="{{ asset('uploads/articles/' ~ destination.img) }}" alt="">
            {% endif %}
        </a>

            <div>{{ destination.name }}</div>
            <div> {{ destination.description }}</div>
            <div>{{ destination.duration ? destination.duration|date('H:i')}}</div>
            <div>{{ destination.price }}</div>
            <div class="action">
                <a href="{{ path('admin_destination_edit', {'id' : destination.id}) }}">Edit</a>
                <a href="{{ path('admin_destination_delete', {'id': destination.id}) }}">Delete</a>
            </div>

    {% else %}

        <p>There is no destinations here</p>

    {% endfor %}












{% endblock %}